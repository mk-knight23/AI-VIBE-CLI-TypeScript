name: code-review
description: Automated code review workflow
inputs:
  target:
    type: string
    required: true
    default: "."
steps:
  - id: analyze
    agent: analyst
    input: "Analyze code quality of ${target}"
    output: analysis

  - id: review
    agent: reviewer
    input: "Review code based on analysis: $prev.output"
    output: review

  - id: report
    agent: writer
    input: "Generate a code review report from: ${review}"
    output: report

outputs:
  - report
